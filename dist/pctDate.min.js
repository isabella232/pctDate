!function(){function e(){return function(e){return angular.isDate(e)&&!isNaN(e.valueOf())}}angular.module("pctDate.isDate",[]).factory("isDate",e)}(),function(){"use strict";angular.module("pctDate",["pctDate.toUnixTs","pctDate.isDate","pctDate.timezoneSelector","pctDate.utils.jsTzDetect"])}(),function(){"use strict";function e(e){return function(a){if(!e(a))throw new TypeError("toUnixTs: date parameter should be a Native Date js object");return Math.floor(a/1e3)}}angular.module("pctDate.toUnixTs",["pctDate.isDate"]).factory("toUnixTs",e),e.$inject=["isDate"]}(),function(){function e(e,a,t,i){function n(n,r,s,c){var o=a(e().tzList),u="true"===s.autodetecttz?!0:!1;n.tzList,n.selectedRegion,n.tzRegionList=e().regionList,n.$watch(function(){return c.$modelValue},function(e){var e=i(n.ngModel);n.filterTzList(e.region),n.setSelectedRegion(e.id)}),n.filterTzList=function(e){n.tzList=o(e)},n.setSelectedRegion=function(e){n.selectedRegion=i(e).region},u&&(n.ngModel=i(t.determine().name()).id)}return{restrict:"E",require:"ngModel",templateUrl:"src/timezoneSelector/timezoneSelector.tpl.html",link:n,scope:{ngModel:"=ngModel",clazz:"@class",ngRequired:"@ngRequired",name:"@name"}}}angular.module("pctDate.timezoneSelector.directive",["pctDate.templates","pctDate.utils.tzId","pctDate.utils.jsTzDetect","pctDate.utils.tzId.parseTzId"]).directive("pctTimezoneSelector",e),e.$inject=["getTzList","filterTzByRegion","jsTzDetect","parseTzId"]}(),function(){angular.module("pctDate.timezoneSelector",["pctDate.timezoneSelector.directive"])}(),function(){"use strict";function e(e){return e.jstz}angular.module("pctDate.utils.jsTzDetect",[]).factory("jsTzDetect",e),e.$inject=["$window"]}(),function(){"use strict";function e(){return function(e){if(!angular.isArray(e))throw new TypeError("pctDate.filterTzByRegion expects 1 argument type Array");return function(a){return e.filter(function(e){return e.region===a})}}}angular.module("pctDate.utils.tzId.filterTzByRegion",[]).factory("filterTzByRegion",e)}(),function(){"use strict";function e(e,a,t){if(!a())throw new ReferenceError("pctDate.getTzList: please include moment-timezone.js files");{var i=e.tz.names(),n=t(i);n[0],n[1]}return function(){return{regionList:n[0],tzList:n[1]}}}angular.module("pctDate.utils.tzId.getTzList",["pctMoment","pctDate.utils.tzId.parseTzIdList"]).factory("getTzList",e),e.$inject=["moment","isMomentTimezoneLoaded","parseTzIdList"]}(),function(){"use strict";function e(){return function(e){var a=e.region,t=e.subregion;return!t||"Brazil"===a||"Chile"===a||"Mexico"===a}}angular.module("pctDate.utils.tzId.isTzSpecialCase",[]).factory("isTzSpecialCase",e),e.$inject=[]}(),function(){"use strict";function e(){var e,a;return function(t){return e=t.match(/(^[^\/]*)\/?(.*)/),a=e[2],a&&(a=a.replace("_"," ").replace("/"," / ")),{id:t,region:e[1],subregion:a}}}angular.module("pctDate.utils.tzId.parseTzId",[]).factory("parseTzId",e)}(),function(){"use strict";function e(e,a){return function(t){var i,n=[],r=[],s={},c=t.length;for(i=0;c>i;i++){var o=e(t[i]);a(o)||(n.push(o),s.hasOwnProperty(o.region)||(s[o.region]=!0,r.push(o.region)))}return[r,n]}}angular.module("pctDate.utils.tzId.parseTzIdList",["pctDate.utils.tzId.parseTzId","pctDate.utils.tzId.isTzSpecialCase"]).factory("parseTzIdList",e),e.$inject=["parseTzId","isTzSpecialCase"]}(),function(){angular.module("pctDate.utils.tzId",["pctDate.utils.tzId.parseTzId","pctDate.utils.tzId.parseTzIdList","pctDate.utils.tzId.filterTzByRegion","pctDate.utils.tzId.getTzList"])}(),function(e){var a=function(){"use strict";var e="s",t=function(e){var a=-e.getTimezoneOffset();return null!==a?a:0},i=function(e,a,t){var i=new Date;return void 0!==e&&i.setFullYear(e),i.setDate(t),i.setMonth(a),i},n=function(e){return t(i(e,0,2))},r=function(e){return t(i(e,5,2))},s=function(e){var a=e.getMonth()>7?r(e.getFullYear()):n(e.getFullYear()),i=t(e);return a-i!==0},c=function(){var a=n(),t=r(),i=n()-r();return 0>i?a+",1":i>0?t+",1,"+e:a+",0"},o=function(){var e=c();return new a.TimeZone(a.olson.timezones[e])};return{determine:o,date_is_dst:s}}();a.TimeZone=function(e){"use strict";var t=null,i=function(){return t},n=function(){for(var e=a.olson.ambiguity_list[t],i=e.length,n=0,r=e[0];i>n;n+=1)if(r=e[n],a.date_is_dst(a.olson.dst_start_dates[r]))return void(t=r)},r=function(){return"undefined"!=typeof a.olson.ambiguity_list[t]};return t=e,r()&&n(),{name:i}},a.olson={},a.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Santiago","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"Etc/GMT+2","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},a.olson.dst_start_dates=function(){"use strict";var e=new Date(2010,6,15,1,0,0,0);return{"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"America/Asuncion":new Date(2012,9,7,3,0,0,0),"America/Santiago":new Date(2012,9,3,3,0,0,0),"America/Campo_Grande":new Date(2012,9,21,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2012,2,10,2,0,0,0),"America/New_York":new Date(2012,2,10,7,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Asia/Gaza":new Date(2009,2,28,0,30,0,0),"Africa/Cairo":new Date(2009,3,25,0,30,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0),"Europe/Moscow":e,"Asia/Yekaterinburg":e,"Asia/Omsk":e,"Asia/Krasnoyarsk":e,"Asia/Irkutsk":e,"Asia/Yakutsk":e,"Asia/Vladivostok":e,"Asia/Kamchatka":e,"Europe/Minsk":e,"Australia/Perth":new Date(2008,10,1,1,0,0,0)}}(),a.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Santiago":["America/Santiago","America/Asuncion","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Beirut","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Asia/Gaza"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"],"Asia/Dubai":["Europe/Moscow"],"Asia/Dhaka":["Asia/Yekaterinburg"],"Asia/Jakarta":["Asia/Omsk"],"Asia/Shanghai":["Asia/Krasnoyarsk","Australia/Perth"],"Asia/Tokyo":["Asia/Irkutsk"],"Australia/Brisbane":["Asia/Yakutsk"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Tarawa":["Asia/Kamchatka"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"],"Asia/Baghdad":["Europe/Minsk"]},"undefined"!=typeof exports?exports.jstz=a:e.jstz=a}(this),angular.module("pctDate.templates",[]).run(["$templateCache",function(e){e.put("src/timezoneSelector/timezoneSelector.tpl.html",'<select \n    ng-model="selectedRegion" \n    ng-options="region for region in tzRegionList" \n    ng-change="filterTzList(selectedRegion)"\n    class="{{clazz}}"\n>\n</select>\n\n\n<select \n    ng-model="ngModel" \n    ng-options="tz.id as tz.subregion for tz in tzList" \n    class="{{clazz}}"\n    ng-required="{{ngRequired}}"\n    name={{name}}\n>\n    <option></option>\n</select>\n')}]);